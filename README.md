# study_web
書籍「web技術の基本」の学習記録

<br>

world wide web（webページ同士が繋がっているのがクモみたい） ＝ web

- webページ
    - 構成要素
        - ハイパーテキストという言語で構成されいている。
            - HTMLで構成されている。
                - タグで囲って表現する。
                - マークアップ言語の一つ
        - ハイパーリンク
            - ハイパーテキストの中に埋め込める。
            - 別のwebページへ遷移できる。繋げられる。
            
- webページの種類
    - 静的ページ
        - 企業のHPのようの開くと毎回同じページ。
    - 動的ページ
        - 検索エンジンのように検索結果によって、毎回異なるページが表示される。
        - CGI
            - webサーバからrubyのようなプログラムを動かすための仕組み。
        - サーバーサイドスクリプト
            - ruby、php、pythonなど
        - クライアントスクリプト
            - ブラウザーで実行されるプログラム
                - javascript
- webページをpc同士でやり取りするための仕組み
    - ブラウザー
        - ハイパーテキストを人間でもわかるように変換する。
        - webサーバにハイパーテキストを要求できる。
        - 一度に一つのファイルしか送られてこない。
        - サーバーに要求する際にURLを使う。
            - どのpcのどのファイルかを指定する。
    - webサーバー
        - ブラウザーからの要求でハイパーテキストを返す
            - ApacheやIISなどがある。
    - HTTP
        - ブラウザーとサーバがハイパーテキストをやり取りするためのルール。どんな種類のブラウザーやサーバ間でもハイパーテキストをやり取りできるように。

- webの使用用途
    - 文章の閲覧
        - 他の人が書いたブログやTwitterなどの文章を閲覧できる。
    - ユーザーインターフェース
        - 人がpc操作する際の橋渡しとなる。メールをメールサーバから取得して、画面に表示することやメールを送信する際に役立つ。
    - API
        - pcとpcの間でやり取りする際に役立つ。天気予報を知る際にpcからどこの地域の情報かを別のpcに送る。受け取ったpcは天気の情報を依頼元のpcに返す
        
- TCP/IP
    - プロトコルをまとめたもの
        - アプリケーション層
            - HTTP
            - FTP
        - トランスポート層
            - TCP
                - 一回一回の送信を送ったことや受信したことをPC同士で確認して、データを確実に送る。銀行や通販サイトなどのようなシステムで使われている
            - UDP
                - TCPと比較して、PC同士で確認せずにデータを送る。データを確実に送信できないものの、スピードはTCPよりも早い。動画データの送信に使われる。
                
                
- HTTP
    - httpリクエスト
        - リクエスト行・・・webサーバに対して、情報を取得したいのか、更新したいのかを伝える。
            - メソッド
                - get
                - post
            - パス名
                - index.htmlなど
        - メッセージヘッダー
            - 送信したブラウザーが何か？Safari、Chrome、リクエスト側のOS情報
        - メッセージボディー
            - 送信したい内容
    - httpレスポンス
        - ステータス行
            - 200や404などのリクエスト結果。サーバ側での処理結果。
            - 400番代はクライアントエラー。
            - 500番代はサーバ側のエラー。
        - メッセージヘッダー
            - レスポンスボディの種類、テキストなのか、画像なのか？、Webサーバのソフトウェアの情報(Apacheなど)
        - メッセージボディ
            - htmlや画像を格納する場所
            
    - ステートレス
        - 状態を保持できない。
        - 複数のクライアントからのリクエストに耐えられる。
    - ステートフル
        - 状態を保持できる。
        - 複数のクライアントからのリクエスト負荷に耐えられない。
    - HTTP(ステートレス)の弱点を補完。
        - cookie
            - httpを利用しつつも状態をブラウザーに保持する。
            - サーバからクッキーを発行
            - クッキーはレスポンスヘッダーに保存してクライアントに送る。
        - セッションid
            - サーバから発行して、クッキーの中にセッションidをセットして、リクエストに送る。
            - クライアントから送られてきたセッションidでユーザを識別する。
            - テーブルの中にセッションidを保存しておく。
            
- HTTPS
    - HTTPプラスSSL、TLSを追加したもの。
        - メリットは以下を防ぐ
        - 改ざん。ブラウザーはデータだけでなく、ハッシュしたデータを送り、それを復号する。復号後のデータと送ったデータを比較する。
        - なりすまし。SSL証明書による本人確認。
        - 盗聴。暗号化することによって、第三者が盗聴できないようにする。

    - ブラウザーとサーバでいきなりHTTPS通信を始めるのではない。事前に以下を行う。
        - 暗号化方式の取り決め。サーバからやり取り可能な暗号化方式を教える。
        - サーバーが本物かを確認。SSL証明書をサーバからブラウザーに送る。
        - 鍵の交換。暗号化されたデータを解除するもの。
        - 暗号化方式の確認。サーバから受け取った暗号化方式の中でやりとりする暗号化方式を確定する。

- セキュリティ
    - 機密性（第三者が利用できないように）
        - セッションハイジャック（セッションidを奪ってなりすます。）
        - クロスサイトスクリプティング(2ちゃんねるやツイッターのようなサイトにスクリプトを仕込むことによって、スクリプトをクリックしたユーザのクッキー情報を奪う。)
        - クロスサイトリクエストフォージェリー（他人になりすまして、ログインしたり、悪意のあるスクリプトを仕込む）
        - パスワードクラッキング
            - 辞書攻撃（辞書にある単語を組み合わせてパスワードを当てる方法）
            - ブルートフォルス攻撃（パスワードをしらみつぶしで当てる方法）
        - ディレクトリとラバーサル
        - SQLインジェクション（ログイン画面の入力ボックスや検索ボックスなどユーザーが入力できる箇所に必ず成功する文字を入れて、ログインしたり、他人の情報を盗み出す）
    - 完全性（データが消去、更新されていないように）
        - クロスサイトリクエストフォージェリー（第三者になりすまして、データを消したり、更新したりする）
    - 可用性（いつでもデータにアクセスできるように）
        - dos攻撃
        - F5攻撃


- 脆弱性（不正アクセスを許すバグ）
    - webアプリ
        - クロスサイトスクリプティング
        - クロスサイトリクエストフォージェリー
        - SQLインジェクション
    - webシステム（OSやデータベースなど）
        - セキュリティフォール（権限のない人が操作できたり、データを見れてしまうバグ）
　

- セキュリティ対策
    - ファイアーフォール
        - パケットフィルタ型
        - 送信元および宛先のIPアドレス、ポート番号をチェックして、インターネットから社内システムへのアクセスを制御する。
- 通信を監視するシステム
    - IDS
        - 不正な通信が来ても通過させるが、管理者にメールする。可用性を重視。ショッピングサイトなど
    - IPS
        - 不正な通信があったら、遮断させる。機密性・完全性を重視。

- 不正な通信と判定する方法
    - アノマリー型
        いつもと違う通信かをチェックする。
    - シグネチャ型
        過去の通信を参考にチェックする。


- 通信量を監視する
    - IDSとIPS
        - dos攻撃（F5）をチェックできる。

- 通信の中身（パケット）を監視する
    - WAF
        - SQLインジェクションやクロスサイトスプリクティングをチェックできる。

- 機密性を守るため、第三者が好き勝手に操作できないようにするため。
    - 認証（ログインしてもサイトに入っても良い）
    - id・パスワード
    - API

　- 認可（ログイン後、サービスを利用しても良い）
